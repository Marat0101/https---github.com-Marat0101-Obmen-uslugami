{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { getProductsByCategoryApi } from '@/services/services_service';\nimport ServiceList from '@/components/services/ServiceList.vue';\nimport AppTabs from '@/components/UI/AppTabs.vue';\nimport { onMounted, ref } from 'vue';\nimport SearchInput from '@/components/UI/SearchInput.vue';\nimport router from '@/router/router';\nimport useCategories from '@/hooks/useCategories';\nimport ServiceBanner from '@/components/services/ServiceBanner.vue';\nexport default {\n  components: {\n    ServiceBanner,\n    SearchInput,\n    ServiceList,\n    AppTabs\n  },\n  setup() {\n    const {\n      categories\n    } = useCategories();\n    // const selectedTab = ref(categories[0])\n    const selectedTab = ref({\n      id: 1,\n      name: 'Copywriting',\n      label: 'Копирайтинг',\n      description: 'Создание продающих текстов и контента. Уникальные и убедительные сообщения для продвижения продуктов и услуг.'\n    });\n    const serviceCards = ref('');\n    const filteredServiceCards = ref([]);\n    // const fetchServices = async () => {\n    //   serviceCards.value = await getServicesApi()\n    // }\n    const changeTab = async tab => {\n      console.log(tab);\n      selectedTab.value = tab;\n      filteredServiceCards.value = await getProductsByCategoryApi(selectedTab.value);\n    };\n    onMounted(async () => {\n      await changeTab(selectedTab.value);\n    });\n    const searchQuery = ref('');\n    const performSearch = () => {\n      if (searchQuery.value !== '') {\n        router.push({\n          name: 'services_search',\n          query: {\n            search: searchQuery.value\n          }\n        });\n      }\n    };\n    return {\n      serviceCards,\n      filteredServiceCards,\n      categories,\n      selectedTab,\n      searchQuery,\n      performSearch,\n      changeTab\n    };\n  }\n};","map":{"version":3,"names":["getProductsByCategoryApi","ServiceList","AppTabs","onMounted","ref","SearchInput","router","useCategories","ServiceBanner","components","setup","categories","selectedTab","id","name","label","description","serviceCards","filteredServiceCards","changeTab","tab","console","log","value","searchQuery","performSearch","push","query","search"],"sources":["C:\\Users\\SAK\\Desktop\\Обмен услуг\\frontend\\src\\pages\\services\\ServicesPage.vue"],"sourcesContent":["<template>\n  <div>\n    <div class=\"search_content\">\n      <AppTabs style=\"margin-top: 40px\"\n               :names=\"categories\"\n               :selectedTab=\"selectedTab\"\n               @changeTab=\"changeTab\"\n               :class=\"`tab-nav-fit-content tab-nav-centered`\">\n      </AppTabs>\n      <ServiceBanner :category=\"selectedTab\"/>\n      <div class=\"search\">\n          <SearchInput\n            placeholder=\"Поиск...\"\n            v-model=\"searchQuery\"\n            @keydown.enter=\"performSearch\"\n            class=\"search-input\"\n          ></SearchInput>\n      </div>\n    </div>\n    <div class=\"content-block\">\n      <div v-if=\"filteredServiceCards.length > 0\" class=\"content-block__list\">\n        <service-list class=\"services-list\" :serviceCards=\"filteredServiceCards\"></service-list>\n      </div>\n      <div v-else class=\"service-notfound\">\n        <p>Пока что здесь нет услуг.</p>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { getProductsByCategoryApi } from '@/services/services_service'\nimport ServiceList from '@/components/services/ServiceList.vue'\nimport AppTabs from '@/components/UI/AppTabs.vue'\nimport { onMounted, ref } from 'vue'\nimport SearchInput from '@/components/UI/SearchInput.vue'\nimport router from '@/router/router'\nimport useCategories from '@/hooks/useCategories'\nimport ServiceBanner from '@/components/services/ServiceBanner.vue'\nexport default {\n  components: { ServiceBanner, SearchInput, ServiceList, AppTabs },\n  setup () {\n    const { categories } = useCategories()\n    // const selectedTab = ref(categories[0])\n    const selectedTab = ref({\n      id: 1,\n      name: 'Copywriting',\n      label: 'Копирайтинг',\n      description: 'Создание продающих текстов и контента. Уникальные и убедительные сообщения для продвижения продуктов и услуг.'\n    })\n\n    const serviceCards = ref('')\n    const filteredServiceCards = ref([])\n    // const fetchServices = async () => {\n    //   serviceCards.value = await getServicesApi()\n    // }\n    const changeTab = async (tab) => {\n      console.log(tab)\n      selectedTab.value = tab\n      filteredServiceCards.value = await getProductsByCategoryApi(selectedTab.value)\n    }\n\n    onMounted(async () => {\n      await changeTab(selectedTab.value)\n    })\n\n    const searchQuery = ref('')\n    const performSearch = () => {\n      if (searchQuery.value !== '') {\n        router.push({ name: 'services_search', query: { search: searchQuery.value } })\n      }\n    }\n\n    return {\n      serviceCards,\n      filteredServiceCards,\n      categories,\n      selectedTab,\n      searchQuery,\n      performSearch,\n      changeTab\n    }\n  }\n}\n</script>\n\n<style scoped lang=\"less\">\n\n.content-block {\n  margin-top: 60px;\n  display: flex;\n  justify-content: center;\n}\n\n.search{\n  display: inline-flex;\n  align-items: center;\n  width: 100%;\n  height: fit-content;\n  background: none;\n  .search-input {\n    margin: 50px auto 0;\n    width: 60%;\n  }\n}\n\n.service-notfound{\n  display: flex;\n  color: rgba(1, 1, 1, 0.30);\n  font-size: 18px;\n  font-style: normal;\n  font-weight: 400;\n  line-height: normal;\n  justify-content: center;\n  margin-top: 50px;\n\n  P {\n    color: @non-active-color;\n    font-size: @font-size-small;\n  }\n}\n</style>\n"],"mappings":";AA+BA,SAASA,wBAAuB,QAAS,6BAA4B;AACrE,OAAOC,WAAU,MAAO,uCAAsC;AAC9D,OAAOC,OAAM,MAAO,6BAA4B;AAChD,SAASC,SAAS,EAAEC,GAAE,QAAS,KAAI;AACnC,OAAOC,WAAU,MAAO,iCAAgC;AACxD,OAAOC,MAAK,MAAO,iBAAgB;AACnC,OAAOC,aAAY,MAAO,uBAAsB;AAChD,OAAOC,aAAY,MAAO,yCAAwC;AAClE,eAAe;EACbC,UAAU,EAAE;IAAED,aAAa;IAAEH,WAAW;IAAEJ,WAAW;IAAEC;EAAQ,CAAC;EAChEQ,KAAIA,CAAA,EAAK;IACP,MAAM;MAAEC;IAAW,IAAIJ,aAAa,CAAC;IACrC;IACA,MAAMK,WAAU,GAAIR,GAAG,CAAC;MACtBS,EAAE,EAAE,CAAC;MACLC,IAAI,EAAE,aAAa;MACnBC,KAAK,EAAE,aAAa;MACpBC,WAAW,EAAE;IACf,CAAC;IAED,MAAMC,YAAW,GAAIb,GAAG,CAAC,EAAE;IAC3B,MAAMc,oBAAmB,GAAId,GAAG,CAAC,EAAE;IACnC;IACA;IACA;IACA,MAAMe,SAAQ,GAAI,MAAOC,GAAG,IAAK;MAC/BC,OAAO,CAACC,GAAG,CAACF,GAAG;MACfR,WAAW,CAACW,KAAI,GAAIH,GAAE;MACtBF,oBAAoB,CAACK,KAAI,GAAI,MAAMvB,wBAAwB,CAACY,WAAW,CAACW,KAAK;IAC/E;IAEApB,SAAS,CAAC,YAAY;MACpB,MAAMgB,SAAS,CAACP,WAAW,CAACW,KAAK;IACnC,CAAC;IAED,MAAMC,WAAU,GAAIpB,GAAG,CAAC,EAAE;IAC1B,MAAMqB,aAAY,GAAIA,CAAA,KAAM;MAC1B,IAAID,WAAW,CAACD,KAAI,KAAM,EAAE,EAAE;QAC5BjB,MAAM,CAACoB,IAAI,CAAC;UAAEZ,IAAI,EAAE,iBAAiB;UAAEa,KAAK,EAAE;YAAEC,MAAM,EAAEJ,WAAW,CAACD;UAAM;QAAE,CAAC;MAC/E;IACF;IAEA,OAAO;MACLN,YAAY;MACZC,oBAAoB;MACpBP,UAAU;MACVC,WAAW;MACXY,WAAW;MACXC,aAAa;MACbN;IACF;EACF;AACF"},"metadata":{},"sourceType":"module","externalDependencies":[]}