{"ast":null,"code":"import RecordList from '@/components/records/RecordList.vue';\nimport { cancelRecordApi, getRecordsApi } from '@/services/plans_service';\nimport store from '@/store';\nexport default {\n  components: {\n    RecordList\n  },\n  data() {\n    return {\n      recordCards: []\n    };\n  },\n  mounted() {\n    this.fetchRecords();\n  },\n  methods: {\n    async fetchRecords() {\n      console.log(this.recordCards);\n      const userId = store.getters['auth/getUserProfile'].id;\n      this.recordCards = await getRecordsApi(userId);\n    },\n    async cancelRecord(record) {\n      await cancelRecordApi(record.id);\n      await this.fetchRecords();\n    }\n  }\n};","map":{"version":3,"names":["RecordList","cancelRecordApi","getRecordsApi","store","components","data","recordCards","mounted","fetchRecords","methods","console","log","userId","getters","id","cancelRecord","record"],"sources":["C:\\Users\\SAK\\Desktop\\Обмен услуг\\frontend\\src\\pages\\records\\RecordsPage.vue"],"sourcesContent":["<template>\n  <div class=\"container\">\n    <div class=\"content-block header\">\n      <div class=\"header__title\">\n        <h2>Мои заказы</h2>\n      </div>\n    </div>\n\n    <div v-if=\"this.recordCards.length > 0\"\n         class=\"content-block\">\n      <record-list class=\"records-list\"\n                   :recordCards=\"this.recordCards\"\n                   @cancelRecord=\"cancelRecord\">\n      </record-list>\n    </div>\n    <p v-else>Пока что у вас нет заказов.</p>\n  </div>\n</template>\n\n<script>\nimport RecordList from '@/components/records/RecordList.vue'\nimport { cancelRecordApi, getRecordsApi } from '@/services/plans_service'\nimport store from '@/store'\n\nexport default {\n  components: {\n    RecordList\n  },\n  data () {\n    return {\n      recordCards: []\n    }\n  },\n  mounted () {\n    this.fetchRecords()\n  },\n  methods: {\n    async fetchRecords () {\n      console.log(this.recordCards)\n      const userId = store.getters['auth/getUserProfile'].id\n      this.recordCards = await getRecordsApi(userId)\n    },\n    async cancelRecord (record) {\n      await cancelRecordApi(record.id)\n      await this.fetchRecords()\n    }\n  }\n}\n</script>\n\n<style scoped>\n.content-block {\n  display: flex;\n  justify-content: center;\n}\n\n.header {\n  display: flex;\n  justify-content: start;\n  margin-bottom: 20px;\n  border-bottom: 1px #cccccc solid;\n  padding: 0 0 20px;\n}\n\n.header__title{\n  height: 50px;\n  display: flex;\n  justify-content: start;\n  align-items: center;\n}\n\n.records-list {\n  display: grid;\n  grid-template-columns: repeat(4, 1fr);\n  gap: 20px;\n}\n</style>\n"],"mappings":"AAoBA,OAAOA,UAAS,MAAO,qCAAoC;AAC3D,SAASC,eAAe,EAAEC,aAAY,QAAS,0BAAyB;AACxE,OAAOC,KAAI,MAAO,SAAQ;AAE1B,eAAe;EACbC,UAAU,EAAE;IACVJ;EACF,CAAC;EACDK,IAAGA,CAAA,EAAK;IACN,OAAO;MACLC,WAAW,EAAE;IACf;EACF,CAAC;EACDC,OAAMA,CAAA,EAAK;IACT,IAAI,CAACC,YAAY,CAAC;EACpB,CAAC;EACDC,OAAO,EAAE;IACP,MAAMD,YAAWA,CAAA,EAAK;MACpBE,OAAO,CAACC,GAAG,CAAC,IAAI,CAACL,WAAW;MAC5B,MAAMM,MAAK,GAAIT,KAAK,CAACU,OAAO,CAAC,qBAAqB,CAAC,CAACC,EAAC;MACrD,IAAI,CAACR,WAAU,GAAI,MAAMJ,aAAa,CAACU,MAAM;IAC/C,CAAC;IACD,MAAMG,YAAWA,CAAGC,MAAM,EAAE;MAC1B,MAAMf,eAAe,CAACe,MAAM,CAACF,EAAE;MAC/B,MAAM,IAAI,CAACN,YAAY,CAAC;IAC1B;EACF;AACF"},"metadata":{},"sourceType":"module","externalDependencies":[]}