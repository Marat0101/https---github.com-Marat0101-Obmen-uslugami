{"ast":null,"code":"import { createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-669d66b0\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  class: \"container\"\n};\nconst _hoisted_2 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"content-block header\"\n}, [/*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"header__title\"\n}, [/*#__PURE__*/_createElementVNode(\"h2\", null, \"Мои заказы\")])], -1 /* HOISTED */));\nconst _hoisted_3 = {\n  key: 0,\n  class: \"content-block\"\n};\nconst _hoisted_4 = {\n  key: 1\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_record_list = _resolveComponent(\"record-list\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_hoisted_2, this.recordCards.length > 0 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_3, [_createVNode(_component_record_list, {\n    class: \"records-list\",\n    recordCards: this.recordCards,\n    onCancelRecord: $options.cancelRecord\n  }, null, 8 /* PROPS */, [\"recordCards\", \"onCancelRecord\"])])) : (_openBlock(), _createElementBlock(\"p\", _hoisted_4, \"Пока что у вас нет заказов.\"))]);\n}","map":{"version":3,"names":["class","_createElementVNode","_createElementBlock","_hoisted_1","_hoisted_2","recordCards","length","_hoisted_3","_createVNode","_component_record_list","onCancelRecord","$options","cancelRecord","_hoisted_4"],"sources":["C:\\Users\\SAK\\Desktop\\Обмен услуг\\frontend\\src\\pages\\records\\RecordsPage.vue"],"sourcesContent":["<template>\n  <div class=\"container\">\n    <div class=\"content-block header\">\n      <div class=\"header__title\">\n        <h2>Мои заказы</h2>\n      </div>\n    </div>\n\n    <div v-if=\"this.recordCards.length > 0\"\n         class=\"content-block\">\n      <record-list class=\"records-list\"\n                   :recordCards=\"this.recordCards\"\n                   @cancelRecord=\"cancelRecord\">\n      </record-list>\n    </div>\n    <p v-else>Пока что у вас нет заказов.</p>\n  </div>\n</template>\n\n<script>\nimport RecordList from '@/components/records/RecordList.vue'\nimport { cancelRecordApi, getRecordsApi } from '@/services/plans_service'\nimport store from '@/store'\n\nexport default {\n  components: {\n    RecordList\n  },\n  data () {\n    return {\n      recordCards: []\n    }\n  },\n  mounted () {\n    this.fetchRecords()\n  },\n  methods: {\n    async fetchRecords () {\n      console.log(this.recordCards)\n      const userId = store.getters['auth/getUserProfile'].id\n      this.recordCards = await getRecordsApi(userId)\n    },\n    async cancelRecord (record) {\n      await cancelRecordApi(record.id)\n      await this.fetchRecords()\n    }\n  }\n}\n</script>\n\n<style scoped>\n.content-block {\n  display: flex;\n  justify-content: center;\n}\n\n.header {\n  display: flex;\n  justify-content: start;\n  margin-bottom: 20px;\n  border-bottom: 1px #cccccc solid;\n  padding: 0 0 20px;\n}\n\n.header__title{\n  height: 50px;\n  display: flex;\n  justify-content: start;\n  align-items: center;\n}\n\n.records-list {\n  display: grid;\n  grid-template-columns: repeat(4, 1fr);\n  gap: 20px;\n}\n</style>\n"],"mappings":";;;EACOA,KAAK,EAAC;AAAW;gEACpBC,mBAAA,CAIM;EAJDD,KAAK,EAAC;AAAsB,I,aAC/BC,mBAAA,CAEM;EAFDD,KAAK,EAAC;AAAe,I,aACxBC,mBAAA,CAAmB,YAAf,YAAU,E;;;EAKbD,KAAK,EAAC;;;;;;;uBARbE,mBAAA,CAeM,OAfNC,UAeM,GAdJC,UAIM,E,KAEUC,WAAW,CAACC,MAAM,Q,cAAlCJ,mBAAA,CAMM,OANNK,UAMM,GAJJC,YAAA,CAGcC,sBAAA;IAHDT,KAAK,EAAC,cAAc;IACnBK,WAAW,OAAOA,WAAW;IAC7BK,cAAY,EAAEC,QAAA,CAAAC;iFAG9BV,mBAAA,CAAyC,KAAAW,UAAA,EAA/B,6BAA2B,G"},"metadata":{},"sourceType":"module","externalDependencies":[]}