{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport AppTabs from '@/components/UI/AppTabs.vue';\nimport { ref } from 'vue';\nimport TitleTab from '@/components/services/createService/TitleTab.vue';\nimport AppForm from '@/components/AppForm.vue';\nimport router from '@/router/router';\nimport { createServiceApi } from '@/services/services_service';\nimport AppPrimaryBtn from '@/components/UI/AppPrimaryButton.vue';\n// import TheTab from '@/components/services/createService/TheTab.vue'\nimport AppTextarea from '@/components/UI/AppTextarea.vue';\nimport AppInput from '@/components/UI/AppInput.vue';\nimport InputRows from '@/components/UI/InputRows.vue';\nimport useCategories from '@/hooks/useCategories';\nimport formatAndLocationTab from '@/components/services/createService/FormatAndLocationTab.vue';\nimport ValidatorButton from '@/components/UI/ValidatorButton.vue';\nexport default {\n  components: {\n    ValidatorButton,\n    InputRows,\n    AppInput,\n    AppTextarea,\n    AppPrimaryBtn,\n    AppForm,\n    AppTabs\n  },\n  setup() {\n    const tabs = [{\n      number: 1,\n      name: 'TitleTab',\n      label: 'Название',\n      component: TitleTab\n    }, {\n      number: 2,\n      name: 'FormatAndLocationTab',\n      label: 'Режим работы и местоположение',\n      component: formatAndLocationTab\n    }, {\n      number: 3,\n      name: 'DescAndDurationTab',\n      label: 'Категория и время работы',\n      component: TitleTab\n    }];\n    const selectedTab = ref(tabs[0]);\n    const {\n      categories\n    } = useCategories();\n    const formats = ref([{\n      id: 1,\n      name: 'online',\n      label: 'Онлайн'\n    }, {\n      id: 2,\n      name: 'offline',\n      label: 'Оффлайн'\n    }]);\n    const form = ref({\n      title: '',\n      description: '',\n      places: '',\n      format: formats.value[0],\n      // хуй\n      category: {\n        id: 1,\n        name: 'Other',\n        label: 'Другое'\n      },\n      duration: '',\n      cost: ''\n    });\n    const inputsExamples = ['Перевод текстов с английского языка на русский. Осуществляется с помощью технологий SmartCat, YandexПереводчик.', 'Разработка мобильного приложения. IOS, Android.', 'Веб-дизайн. Лендинги и многостраничные сайты.'];\n\n    // const form1 = ref({\n    //   title: '',\n    //   description: ''\n    // })\n    // const form2 = ref({\n    //   format: '',\n    //   places: ''\n    // })\n    // const form3 = ref({\n    //   category: '',\n    //   duration: '',\n    //   cost: ''\n    // })\n\n    // const currentProps = computed(() => {\n    //   if (selectedTab.value.number === 1) {\n    //     return function setTitleAndDesc (data) {\n    //       form.value.title = data.title\n    //       form.value.description = data.description\n    //     }\n    //   }\n    //   if (selectedTab.value.number === 2) {\n    //     return function setFormatAndLocation (data) {\n    //       form.value.format = data.format\n    //       form.value.places = data.places\n    //     }\n    //   }\n    //   if (selectedTab.value.number === 3) {\n    //     return function setCategoryAndDurationAndCost (data) {\n    //       form.value.category = data.category\n    //       form.value.duration = data.duration\n    //       form.value.cost = data.cost\n    //     }\n    //   }\n    //   return false\n    // })\n    const submitForm = async () => {\n      // const payload = JSON.stringify(form.value)\n      const payload = {\n        title: form.value.title,\n        description: form.value.description,\n        // format: form.value.places,\n        places: form.value.places,\n        categoryId: form.value.category.id,\n        duration: form.value.duration,\n        cost: form.value.cost\n      };\n      console.log(payload);\n      try {\n        const responseData = await createServiceApi(payload);\n        await router.push('/services/' + responseData.id);\n      } catch (err) {\n        console.log(err);\n      }\n    };\n    return {\n      tabs,\n      selectedTab,\n      submitForm,\n      inputsExamples,\n      form,\n      categories,\n      formats\n    };\n  }\n};","map":{"version":3,"names":["AppTabs","ref","TitleTab","AppForm","router","createServiceApi","AppPrimaryBtn","AppTextarea","AppInput","InputRows","useCategories","formatAndLocationTab","ValidatorButton","components","setup","tabs","number","name","label","component","selectedTab","categories","formats","id","form","title","description","places","format","value","category","duration","cost","inputsExamples","submitForm","payload","categoryId","console","log","responseData","push","err"],"sources":["C:\\Users\\SAK\\Desktop\\Обмен услуг\\frontend\\src\\pages\\services\\ServiceCreate.vue"],"sourcesContent":["<template>\n  <div class=\"container\">\n    <header>\n      <router-link to=\"/profile\" style=\"align-items: center\">\n        <i class=\"icon pi pi-arrow-left\" style=\"margin-right: 8px;\"></i>\n        Назад в профиль\n      </router-link>\n    </header>\n    <div class=\"content-block\">\n      <AppTabs :names=\"tabs\"\n               @changeTab=\"selectedTab = $event\"\n               :selected-tab=\"selectedTab\"\n               class=\"tab-nav-fit-content\"\n               style=\"margin-bottom: 20px;\"\n      ></AppTabs>\n      <AppForm @submit=\"submitForm\">\n\n<!--        <component :is=\"selectedTab.component\" style=\"margin-top: 20px;\"></component>-->\n\n        <!--Первый таб-->\n        <div v-show=\"selectedTab.number === 1\" class=\"card tab-block\">\n          <div class=\"tab-block__start\">\n            <h2>Начнём с названия вашей работы</h2>\n            <p>Это поможет вашей работе найти подходящих клиентов</p>\n          </div>\n          <div class=\"tab-block__end\">\n            <InputRows>\n              <AppInput v-model=\"form.title\" placeholder=\"Название услуги\" rules=\"required|max:50\" name=\"title\"\n                        type=\"text\" />\n              <AppTextarea v-model=\"form.description\" placeholder=\"Описание\" rules=\"required|max:400\" name=\"desc\"\n                           type=\"textarea\" />\n            </InputRows>\n            <div class=\"inputs-examples\" style=\"margin-top: 30px;\">\n              <h4 style=\"margin-bottom: 10px;\">Например:</h4>\n              <ul class=\"inputs-examples__list\">\n                <li v-for=\"example in inputsExamples\" :key=\"example\">{{ example }}</li>\n              </ul>\n            </div>\n          </div>\n        </div>\n\n        <!--Второй таб-->\n        <div v-show=\"selectedTab.number === 2\" class=\"card tab-block\">\n          <div class=\"tab-block__start\">\n            <h2>Режим работы и местоположение</h2>\n            <p>Когда клиенты знают, где вы находитесь, они доверяют вашим услугам больше</p>\n          </div>\n          <div class=\"tab-block__end\">\n            <InputRows>\n<!--              <AppInput v-model=\"form.format\" placeholder=\"Формат\" rules=\"required|max:50\" name=\"format\" type=\"text\" />-->\n              <h4 style=\"margin-bottom: 20px;\">Выберите формат:</h4>\n              <AppTabs :names=\"formats\"\n                       @changeTab=\"form.format = $event\"\n                       :selected-tab=\"form.format\"\n                       class=\"tab-nav-fit-content small-tabs tab-nav-wrap\"\n                       style=\"margin-bottom: 40px;\"\n              ></AppTabs>\n              <AppInput v-model=\"form.places\" placeholder=\"Место\" rules=\"required|max:50\" name=\"places\" type=\"text\" />\n            </InputRows>\n          </div>\n        </div>\n\n        <!--Третий таб-->\n        <div v-show=\"selectedTab.number === 3\" class=\"card tab-block\">\n          <div class=\"tab-block__start\">\n            <h2>Категория и описание продукта</h2>\n            <p>Категория работы помогает клиентам в поиске подходящей услуги</p>\n          </div>\n          <div class=\"tab-block__end\">\n            <InputRows>\n              <!--                <AppInput v-model=\"form.category\" placeholder=\"Категория\" rules=\"required|max:50\" name=\"category\" type=\"text\"/>-->\n              <AppInput v-model=\"form.cost\" placeholder=\"Цена\" rules=\"required|integer\" name=\"cost\" type=\"text\" />\n              <AppInput v-model=\"form.duration\" placeholder=\"Длительность\" rules=\"required|max:50\" name=\"duration\" type=\"text\" />\n            </InputRows>\n\n            <h4 style=\"margin: 40px 0 20px;\">Выберите категорию:</h4>\n            <AppTabs :names=\"categories\"\n                     @changeTab=\"form.category = $event\"\n                     :selected-tab=\"form.category\"\n                     class=\"tab-nav-fit-content small-tabs tab-nav-wrap\"\n                     style=\"margin-bottom: 20px;\"\n            ></AppTabs>\n          </div>\n        </div>\n\n        <AppPrimaryBtn v-if=\"selectedTab.name !== tabs[tabs.length - 1].name\"\n                       class=\"btn\"\n                       @click.prevent=\"selectedTab = tabs.find(tab => tab.number === selectedTab.number + 1)\">Далее\n        </AppPrimaryBtn>\n        <ValidatorButton v-if=\"selectedTab.name === tabs[tabs.length - 1].name\"\n                         class=\"btn\"\n                         type=\"submit\">\n          <AppPrimaryBtn>Отправить</AppPrimaryBtn>\n        </ValidatorButton>\n\n      </AppForm>\n    </div>\n  </div>\n</template>\n\n<script>\nimport AppTabs from '@/components/UI/AppTabs.vue'\nimport { ref } from 'vue'\nimport TitleTab from '@/components/services/createService/TitleTab.vue'\nimport AppForm from '@/components/AppForm.vue'\nimport router from '@/router/router'\nimport { createServiceApi } from '@/services/services_service'\nimport AppPrimaryBtn from '@/components/UI/AppPrimaryButton.vue'\n// import TheTab from '@/components/services/createService/TheTab.vue'\nimport AppTextarea from '@/components/UI/AppTextarea.vue'\nimport AppInput from '@/components/UI/AppInput.vue'\nimport InputRows from '@/components/UI/InputRows.vue'\nimport useCategories from '@/hooks/useCategories'\nimport formatAndLocationTab from '@/components/services/createService/FormatAndLocationTab.vue'\nimport ValidatorButton from '@/components/UI/ValidatorButton.vue'\n\nexport default {\n  components: {\n    ValidatorButton,\n    InputRows,\n    AppInput,\n    AppTextarea,\n    AppPrimaryBtn,\n    AppForm,\n    AppTabs\n  },\n  setup () {\n    const tabs = [\n      {\n        number: 1,\n        name: 'TitleTab',\n        label: 'Название',\n        component: TitleTab\n      },\n      {\n        number: 2,\n        name: 'FormatAndLocationTab',\n        label: 'Режим работы и местоположение',\n        component: formatAndLocationTab\n      },\n      {\n        number: 3,\n        name: 'DescAndDurationTab',\n        label: 'Категория и время работы',\n        component: TitleTab\n      }\n    ]\n    const selectedTab = ref(tabs[0])\n    const { categories } = useCategories()\n\n    const formats = ref([\n      { id: 1, name: 'online', label: 'Онлайн' },\n      { id: 2, name: 'offline', label: 'Оффлайн' }\n    ])\n\n    const form = ref({\n      title: '',\n      description: '',\n      places: '',\n      format: formats.value[0], // хуй\n      category: { id: 1, name: 'Other', label: 'Другое' },\n      duration: '',\n      cost: ''\n    })\n\n    const inputsExamples = [\n      'Перевод текстов с английского языка на русский. Осуществляется с помощью технологий SmartCat, YandexПереводчик.',\n      'Разработка мобильного приложения. IOS, Android.',\n      'Веб-дизайн. Лендинги и многостраничные сайты.'\n    ]\n\n    // const form1 = ref({\n    //   title: '',\n    //   description: ''\n    // })\n    // const form2 = ref({\n    //   format: '',\n    //   places: ''\n    // })\n    // const form3 = ref({\n    //   category: '',\n    //   duration: '',\n    //   cost: ''\n    // })\n\n    // const currentProps = computed(() => {\n    //   if (selectedTab.value.number === 1) {\n    //     return function setTitleAndDesc (data) {\n    //       form.value.title = data.title\n    //       form.value.description = data.description\n    //     }\n    //   }\n    //   if (selectedTab.value.number === 2) {\n    //     return function setFormatAndLocation (data) {\n    //       form.value.format = data.format\n    //       form.value.places = data.places\n    //     }\n    //   }\n    //   if (selectedTab.value.number === 3) {\n    //     return function setCategoryAndDurationAndCost (data) {\n    //       form.value.category = data.category\n    //       form.value.duration = data.duration\n    //       form.value.cost = data.cost\n    //     }\n    //   }\n    //   return false\n    // })\n    const submitForm = async () => {\n      // const payload = JSON.stringify(form.value)\n      const payload = {\n        title: form.value.title,\n        description: form.value.description,\n        // format: form.value.places,\n        places: form.value.places,\n        categoryId: form.value.category.id,\n        duration: form.value.duration,\n        cost: form.value.cost\n      }\n      console.log(payload)\n      try {\n        const responseData = await createServiceApi(payload)\n        await router.push('/services/' + responseData.id)\n      } catch (err) {\n        console.log(err)\n      }\n    }\n\n    return {\n      tabs,\n      selectedTab,\n      submitForm,\n      inputsExamples,\n      form,\n      categories,\n      formats\n    }\n  }\n}\n</script>\n\n<style lang=\"less\" scoped>\n.content-block {\n  margin-top: 30px;\n}\n\nform {\n  display: flex;\n  flex-direction: column;\n\n  .btn {\n    margin-top: 20px;\n    width: 200px;\n    margin-left: auto;\n  }\n}\n\n.tab-block {\n  padding: 45px;\n  width: 100%;\n  height: 440px;\n  justify-content: space-between;\n\n  .tab-block__start {\n    width: 40%;\n    margin-right: 150px;\n\n    p {\n      margin-top: 10px;\n      color: @non-active-color\n    }\n  }\n\n  .tab-block__end {\n    margin-left: auto;\n    width: 100%;\n  }\n}\n\n.inputs-examples {\n  .inputs-examples__list {\n    li {\n      color: @non-active-color;\n    }\n  }\n}\n</style>\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}