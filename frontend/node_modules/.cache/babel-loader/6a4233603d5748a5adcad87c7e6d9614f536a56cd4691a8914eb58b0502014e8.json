{"ast":null,"code":"import { resolveComponent as _resolveComponent, createVNode as _createVNode, createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, toDisplayString as _toDisplayString, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-5bb50630\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  class: \"search\"\n};\nconst _hoisted_2 = {\n  key: 0,\n  style: {\n    \"margin-top\": \"96px\"\n  },\n  class: \"content-block\"\n};\nconst _hoisted_3 = {\n  key: 1,\n  class: \"service-notfound\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_search_input = _resolveComponent(\"search-input\");\n  const _component_service_list = _resolveComponent(\"service-list\");\n  return _openBlock(), _createElementBlock(\"div\", null, [_createElementVNode(\"div\", _hoisted_1, [_createVNode(_component_search_input, {\n    placeholder: \"Поиск...\",\n    modelValue: $data.search,\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.search = $event),\n    class: \"search-input\"\n  }, null, 8 /* PROPS */, [\"modelValue\"])]), _createElementVNode(\"div\", null, [$options.filteredList.length > 0 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_2, [_createVNode(_component_service_list, {\n    class: \"services-list\",\n    serviceCards: $options.filteredList\n  }, null, 8 /* PROPS */, [\"serviceCards\"])])) : (_openBlock(), _createElementBlock(\"div\", _hoisted_3, [_createElementVNode(\"p\", null, \"По запросу \\\"\" + _toDisplayString(this.search) + \"\\\" ничего не найдено.\", 1 /* TEXT */)]))])]);\n}","map":{"version":3,"names":["class","style","_createElementBlock","_createElementVNode","_hoisted_1","_createVNode","_component_search_input","placeholder","$data","search","$event","$options","filteredList","length","_hoisted_2","_component_service_list","serviceCards","_hoisted_3","_toDisplayString"],"sources":["C:\\Users\\SAK\\Desktop\\Обмен услуг\\frontend\\src\\pages\\services\\ServiceSearch.vue"],"sourcesContent":["<template>\n  <div>\n    <div class=\"search\">\n      <search-input\n        placeholder=\"Поиск...\"\n        v-model=\"search\"\n        class=\"search-input\"\n      ></search-input>\n    </div>\n    <div>\n      <div style=\"margin-top: 96px;\" v-if=\"filteredList.length > 0\" class=\"content-block\">\n        <service-list class=\"services-list\" :serviceCards=\"filteredList\"></service-list>\n      </div>\n      <div v-else class=\"service-notfound\">\n        <p>По запросу \"{{ this.search }}\" ничего не найдено.</p>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\nimport ServiceList from '@/components/services/ServiceList.vue'\nimport { getServicesApi } from '@/services/services_service'\nimport SearchInput from '@/components/UI/SearchInput.vue'\n\nexport default {\n  components: { SearchInput, ServiceList },\n  data () {\n    return {\n      search: '',\n      serviceCards: []\n    }\n  },\n\n  mounted () {\n    const searchParam = this.$route.query.search || ''\n    this.search = searchParam.toString()\n    this.fetchServices()\n  },\n\n  methods: {\n    async fetchServices () {\n      this.serviceCards = await getServicesApi()\n    }\n  },\n\n  computed: {\n    filteredList () {\n      return this.serviceCards.filter(service => {\n        return service.title.toLowerCase().includes(this.search.toLowerCase())\n      })\n    }\n  }\n}\n</script>\n\n<style scoped lang=\"less\">\n.search {\n  display: inline-flex;\n  align-items: center;\n  margin-top: 50px;\n  width: 100%;\n  height: fit-content;\n  background: none;\n  justify-content: center;\n  .search-input {\n    margin: 0 auto;\n    width: 60%;\n  }\n}\n\n.content-block {\n  display: flex;\n  justify-content: center;\n}\n\n.services-list {\n  display: grid;\n  grid-template-columns: repeat(4, 1fr);\n  gap: 20px;\n}\n.service-notfound{\n  display: flex;\n  color: rgba(1, 1, 1, 0.30);\n  font-size: 18px;\n  font-style: normal;\n  font-weight: 400;\n  line-height: normal;\n  justify-content: center;\n  margin-top: 50px;\n\n  p {\n    font-size: @font-size-medium;\n  }\n}\n</style>\n"],"mappings":";;;EAESA,KAAK,EAAC;AAAQ;;;EAQZC,KAAyB,EAAzB;IAAA;EAAA,CAAyB;EAAgCD,KAAK,EAAC;;;;EAGxDA,KAAK,EAAC;;;;;uBAZtBE,mBAAA,CAgBM,cAfJC,mBAAA,CAMM,OANNC,UAMM,GALJC,YAAA,CAIgBC,uBAAA;IAHdC,WAAW,EAAC,UAAU;gBACbC,KAAA,CAAAC,MAAM;+DAAND,KAAA,CAAAC,MAAM,GAAAC,MAAA;IACfV,KAAK,EAAC;6CAGVG,mBAAA,CAOM,cANiCQ,QAAA,CAAAC,YAAY,CAACC,MAAM,Q,cAAxDX,mBAAA,CAEM,OAFNY,UAEM,GADJT,YAAA,CAAgFU,uBAAA;IAAlEf,KAAK,EAAC,eAAe;IAAEgB,YAAY,EAAEL,QAAA,CAAAC;gEAErDV,mBAAA,CAEM,OAFNe,UAEM,GADJd,mBAAA,CAAwD,WAArD,eAAY,GAAAe,gBAAA,MAAQT,MAAM,IAAG,uBAAoB,gB"},"metadata":{},"sourceType":"module","externalDependencies":[]}