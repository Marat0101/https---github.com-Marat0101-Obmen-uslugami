{"ast":null,"code":"import { resolveComponent as _resolveComponent, normalizeClass as _normalizeClass, createVNode as _createVNode, withKeys as _withKeys, createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-1450576a\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  class: \"search_content\"\n};\nconst _hoisted_2 = {\n  class: \"search\"\n};\nconst _hoisted_3 = {\n  class: \"content-block\"\n};\nconst _hoisted_4 = {\n  key: 0,\n  class: \"content-block__list\"\n};\nconst _hoisted_5 = {\n  key: 1,\n  class: \"service-notfound\"\n};\nconst _hoisted_6 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"p\", null, \"Пока что здесь нет услуг.\", -1 /* HOISTED */));\nconst _hoisted_7 = [_hoisted_6];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_AppTabs = _resolveComponent(\"AppTabs\");\n  const _component_ServiceBanner = _resolveComponent(\"ServiceBanner\");\n  const _component_SearchInput = _resolveComponent(\"SearchInput\");\n  const _component_service_list = _resolveComponent(\"service-list\");\n  return _openBlock(), _createElementBlock(\"div\", null, [_createElementVNode(\"div\", _hoisted_1, [_createVNode(_component_AppTabs, {\n    style: {\n      \"margin-top\": \"40px\"\n    },\n    names: $setup.categories,\n    selectedTab: $setup.selectedTab,\n    onChangeTab: $setup.changeTab,\n    class: _normalizeClass(`tab-nav-fit-content tab-nav-centered`)\n  }, null, 8 /* PROPS */, [\"names\", \"selectedTab\", \"onChangeTab\"]), _createVNode(_component_ServiceBanner, {\n    category: $setup.selectedTab\n  }, null, 8 /* PROPS */, [\"category\"]), _createElementVNode(\"div\", _hoisted_2, [_createVNode(_component_SearchInput, {\n    placeholder: \"Поиск...\",\n    modelValue: $setup.searchQuery,\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $setup.searchQuery = $event),\n    onKeydown: _withKeys($setup.performSearch, [\"enter\"]),\n    class: \"search-input\"\n  }, null, 8 /* PROPS */, [\"modelValue\", \"onKeydown\"])])]), _createElementVNode(\"div\", _hoisted_3, [$setup.filteredServiceCards.length > 0 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_4, [_createVNode(_component_service_list, {\n    class: \"services-list\",\n    serviceCards: $setup.filteredServiceCards\n  }, null, 8 /* PROPS */, [\"serviceCards\"])])) : (_openBlock(), _createElementBlock(\"div\", _hoisted_5, _hoisted_7))])]);\n}","map":{"version":3,"names":["class","_createElementVNode","_hoisted_6","_createElementBlock","_hoisted_1","_createVNode","_component_AppTabs","style","names","$setup","categories","selectedTab","onChangeTab","changeTab","_normalizeClass","_component_ServiceBanner","category","_hoisted_2","_component_SearchInput","placeholder","searchQuery","$event","onKeydown","_withKeys","performSearch","_hoisted_3","filteredServiceCards","length","_hoisted_4","_component_service_list","serviceCards","_hoisted_5","_hoisted_7"],"sources":["C:\\Users\\SAK\\Desktop\\Обмен услуг\\frontend\\src\\pages\\services\\ServicesPage.vue"],"sourcesContent":["<template>\n  <div>\n    <div class=\"search_content\">\n      <AppTabs style=\"margin-top: 40px\"\n               :names=\"categories\"\n               :selectedTab=\"selectedTab\"\n               @changeTab=\"changeTab\"\n               :class=\"`tab-nav-fit-content tab-nav-centered`\">\n      </AppTabs>\n      <ServiceBanner :category=\"selectedTab\"/>\n      <div class=\"search\">\n          <SearchInput\n            placeholder=\"Поиск...\"\n            v-model=\"searchQuery\"\n            @keydown.enter=\"performSearch\"\n            class=\"search-input\"\n          ></SearchInput>\n      </div>\n    </div>\n    <div class=\"content-block\">\n      <div v-if=\"filteredServiceCards.length > 0\" class=\"content-block__list\">\n        <service-list class=\"services-list\" :serviceCards=\"filteredServiceCards\"></service-list>\n      </div>\n      <div v-else class=\"service-notfound\">\n        <p>Пока что здесь нет услуг.</p>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { getProductsByCategoryApi } from '@/services/services_service'\nimport ServiceList from '@/components/services/ServiceList.vue'\nimport AppTabs from '@/components/UI/AppTabs.vue'\nimport { onMounted, ref } from 'vue'\nimport SearchInput from '@/components/UI/SearchInput.vue'\nimport router from '@/router/router'\nimport useCategories from '@/hooks/useCategories'\nimport ServiceBanner from '@/components/services/ServiceBanner.vue'\nexport default {\n  components: { ServiceBanner, SearchInput, ServiceList, AppTabs },\n  setup () {\n    const { categories } = useCategories()\n    // const selectedTab = ref(categories[0])\n    const selectedTab = ref({\n      id: 1,\n      name: 'Copywriting',\n      label: 'Копирайтинг',\n      description: 'Создание продающих текстов и контента. Уникальные и убедительные сообщения для продвижения продуктов и услуг.'\n    })\n\n    const serviceCards = ref('')\n    const filteredServiceCards = ref([])\n    // const fetchServices = async () => {\n    //   serviceCards.value = await getServicesApi()\n    // }\n    const changeTab = async (tab) => {\n      console.log(tab)\n      selectedTab.value = tab\n      filteredServiceCards.value = await getProductsByCategoryApi(selectedTab.value)\n    }\n\n    onMounted(async () => {\n      await changeTab(selectedTab.value)\n    })\n\n    const searchQuery = ref('')\n    const performSearch = () => {\n      if (searchQuery.value !== '') {\n        router.push({ name: 'services_search', query: { search: searchQuery.value } })\n      }\n    }\n\n    return {\n      serviceCards,\n      filteredServiceCards,\n      categories,\n      selectedTab,\n      searchQuery,\n      performSearch,\n      changeTab\n    }\n  }\n}\n</script>\n\n<style scoped lang=\"less\">\n\n.content-block {\n  margin-top: 60px;\n  display: flex;\n  justify-content: center;\n}\n\n.search{\n  display: inline-flex;\n  align-items: center;\n  width: 100%;\n  height: fit-content;\n  background: none;\n  .search-input {\n    margin: 50px auto 0;\n    width: 60%;\n  }\n}\n\n.service-notfound{\n  display: flex;\n  color: rgba(1, 1, 1, 0.30);\n  font-size: 18px;\n  font-style: normal;\n  font-weight: 400;\n  line-height: normal;\n  justify-content: center;\n  margin-top: 50px;\n\n  P {\n    color: @non-active-color;\n    font-size: @font-size-small;\n  }\n}\n</style>\n"],"mappings":";;;EAESA,KAAK,EAAC;AAAgB;;EAQpBA,KAAK,EAAC;AAAQ;;EAShBA,KAAK,EAAC;AAAe;;;EACoBA,KAAK,EAAC;;;;EAGtCA,KAAK,EAAC;;gEAChBC,mBAAA,CAAgC,WAA7B,2BAAyB;oBAA5BC,UAAgC,C;;;;;;uBAvBtCC,mBAAA,CA0BM,cAzBJF,mBAAA,CAgBM,OAhBNG,UAgBM,GAfJC,YAAA,CAKUC,kBAAA;IALDC,KAAwB,EAAxB;MAAA;IAAA,CAAwB;IACvBC,KAAK,EAAEC,MAAA,CAAAC,UAAU;IACjBC,WAAW,EAAEF,MAAA,CAAAE,WAAW;IACxBC,WAAS,EAAEH,MAAA,CAAAI,SAAS;IACpBb,KAAK,EAAAc,eAAA,CAAE,sCAAsC;oEAEvDT,YAAA,CAAwCU,wBAAA;IAAxBC,QAAQ,EAAEP,MAAA,CAAAE;EAAW,uCACrCV,mBAAA,CAOM,OAPNgB,UAOM,GANFZ,YAAA,CAKea,sBAAA;IAJbC,WAAW,EAAC,UAAU;gBACbV,MAAA,CAAAW,WAAW;+DAAXX,MAAA,CAAAW,WAAW,GAAAC,MAAA;IACnBC,SAAO,EAAAC,SAAA,CAAQd,MAAA,CAAAe,aAAa;IAC7BxB,KAAK,EAAC;4DAIdC,mBAAA,CAOM,OAPNwB,UAOM,GANOhB,MAAA,CAAAiB,oBAAoB,CAACC,MAAM,Q,cAAtCxB,mBAAA,CAEM,OAFNyB,UAEM,GADJvB,YAAA,CAAwFwB,uBAAA;IAA1E7B,KAAK,EAAC,eAAe;IAAE8B,YAAY,EAAErB,MAAA,CAAAiB;gEAErDvB,mBAAA,CAEM,OAFN4B,UAEM,EAAAC,UAAA,G"},"metadata":{},"sourceType":"module","externalDependencies":[]}